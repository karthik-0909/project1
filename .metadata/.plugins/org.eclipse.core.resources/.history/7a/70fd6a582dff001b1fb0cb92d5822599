package com.app.service.impl;

import com.app.dao.RegistrationDAO;
import com.app.dao.impl.RegistrationDAOImpl;
import com.app.exception.BusinessException;
import com.app.model.Customer;
import com.app.service.RegistrtionService;

public class RegistrationServiceImpl implements RegistrtionService{
	private RegistrationDAO registrationDAO=new RegistrationDAOImpl();

	@Override
	public int CreateNewCustomer(String name,String mail,String password) throws BusinessException {
		int s=0;
		if(name.length()!=0 && name.matches("[a-zA-Z]{3,20}")) {
			
			if(mail.matches("[a-z0-9]{5,20}[@gmail.com]{1}")) {
				
				if(password.matches("[A-Z]{1}[a-zA-Z0-9]{7,30}")) {
					s=registrationDAO.CreateNewCustomer(name, mail, password);
				}else {
					throw new BusinessException("Invalid password... "+password);
				}
			}else {
				throw new BusinessException("Invalid Mail Address "+mail);
			}
		}else {
			throw new BusinessException("Invalid name"+name);
		}
		
		return s;
	}

}
